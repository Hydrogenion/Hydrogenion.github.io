<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="OJ," />










<meta name="description" content="本文源自LeetCode二分查找章节，通过本章节的练习对二分查找的基础知识进行掌握，同时能够利用二分查找解决部分问题。二分查找是一个效率非常高的算法，它充分利用了元素间的次序关系，采用分治策略，可在最坏的情况下用O(log n)完成搜索任务。掌握二分查找对于提升代码效率很有帮助。LeetCode二分查找地址：https://leetcode-cn.com/explore/learn/card/bi">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构也不难：二分查找讲解与例题">
<meta property="og:url" content="http://blackblog.tech/2018/10/08/LeetCode2Divide/index.html">
<meta property="og:site_name" content="Black'Blog">
<meta property="og:description" content="本文源自LeetCode二分查找章节，通过本章节的练习对二分查找的基础知识进行掌握，同时能够利用二分查找解决部分问题。二分查找是一个效率非常高的算法，它充分利用了元素间的次序关系，采用分治策略，可在最坏的情况下用O(log n)完成搜索任务。掌握二分查找对于提升代码效率很有帮助。LeetCode二分查找地址：https://leetcode-cn.com/explore/learn/card/bi">
<meta property="og:image" content="https://blog-1253353217.cos.ap-chengdu.myqcloud.com/blog16%20leetcode2divide/Leetcode2divide.png">
<meta property="og:updated_time" content="2018-10-11T07:57:48.294Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据结构也不难：二分查找讲解与例题">
<meta name="twitter:description" content="本文源自LeetCode二分查找章节，通过本章节的练习对二分查找的基础知识进行掌握，同时能够利用二分查找解决部分问题。二分查找是一个效率非常高的算法，它充分利用了元素间的次序关系，采用分治策略，可在最坏的情况下用O(log n)完成搜索任务。掌握二分查找对于提升代码效率很有帮助。LeetCode二分查找地址：https://leetcode-cn.com/explore/learn/card/bi">
<meta name="twitter:image" content="https://blog-1253353217.cos.ap-chengdu.myqcloud.com/blog16%20leetcode2divide/Leetcode2divide.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '5G7B6WQ4IA',
      apiKey: '6ed708e8f0a777590edfbfe4eb312f09',
      indexName: 'blackblog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"啊！你要的东西没找到: ${query}","hits_stats":"找到约${hits} 条结果 (用时${time} ms)"}
    }
  };
</script>



  <link rel="canonical" href="http://blackblog.tech/2018/10/08/LeetCode2Divide/"/>





  <title>数据结构也不难：二分查找讲解与例题 | Black'Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Black'Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Code Tech Life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blackblog.tech/2018/10/08/LeetCode2Divide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Black'Blog">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Black'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">数据结构也不难：二分查找讲解与例题</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-08T21:27:47+08:00">
                2018-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OJ/" itemprop="url" rel="index">
                    <span itemprop="name">OJ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/08/LeetCode2Divide/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/10/08/LeetCode2Divide/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/10/08/LeetCode2Divide/" class="leancloud_visitors" data-flag-title="数据结构也不难：二分查找讲解与例题">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  5,180
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  21
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>本文源自LeetCode二分查找章节，通过本章节的练习对二分查找的基础知识进行掌握，同时能够利用二分查找解决部分问题。二分查找是一个效率非常高的算法，它充分利用了元素间的次序关系，采用分治策略，可在最坏的情况下用O(log n)完成搜索任务。掌握二分查找对于提升代码效率很有帮助。<br>LeetCode二分查找地址：<a href="https://leetcode-cn.com/explore/learn/card/binary-search/208/background/832/" target="_blank" rel="external">https://leetcode-cn.com/explore/learn/card/binary-search/208/background/832/</a><br>本篇文章将介绍3个二分模版，同时完成十个例题。在阅读过程中，如果对三个模板的区别难以理解，请务必完全阅读完，这是一个需要逐步思考的过程。<br>给个目录：<br>LeetCode704 二分查找<br>LeetCode69 x 的平方根<br>LeetCode374 猜数字大小<br>LeetCode33 搜索旋转排序数组<br>LeetCode278 第一个错误的版本<br>LeetCode75 寻找峰值<br>LeetCode159 寻找旋转排序数组中的最小值<br>LeetCode34 在排序数组中查找元素的第一个和最后一个位置<br>LeetCode658 找到 K 个最接近的元素</p>
<a id="more"></a>
<h2 id="二分查找基础知识"><a href="#二分查找基础知识" class="headerlink" title="二分查找基础知识"></a>二分查找基础知识</h2><p>什么是二分查找<br>二分查找是计算机科学中最基本、最有用的算法之一。 它描述了在有序集合中搜索特定值的过程。</p>
<p>二分查找中使用的术语：</p>
<p>目标 Target —— 你要查找的值<br>索引 Index —— 你要查找的当前位置<br>左、右指示符 Left，Right —— 我们用来维持查找空间的指标<br>中间指示符 Mid —— 我们用来应用条件来确定我们应该向左查找还是向右查找的索引</p>
<h2 id="二分查找原理"><a href="#二分查找原理" class="headerlink" title="二分查找原理"></a>二分查找原理</h2><p>二分查找是一种在每次比较之后将查找空间一分为二的算法。每次需要查找集合中的索引或元素时，都应该考虑二分查找。如果集合是无序的，我们可以总是在应用二分查找之前先对其进行排序。</p>
<p>二分查找一般由三个主要部分组成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">预处理 —— 如果集合未排序，则进行排序。</div><div class="line">二分查找 —— 使用循环或递归在每次比较后将查找空间划分为两半。</div><div class="line">后处理 —— 在剩余空间中确定可行的候选者。</div></pre></td></tr></table></figure>
<p>二分查找是一个效率非常高的算法，它充分利用了元素间的次序关系，采用分治策略，可在最坏的情况下用O(log n)完成搜索任务。掌握二分查找对于提升代码效率很有帮助。</p>
<p><strong>复杂度</strong><br>二分查找的时间复杂度：O(log n)，因为二分查找是通过对查找空间中间的值应用一个条件来操作的，并因此将查找空间折半，在更糟糕的情况下，我们将不得不进行 O(log n) 次比较，其中 n 是集合中元素的数目。<br>二分查找的空间复杂度：O(1)，不需要任何其他额外空间。</p>
<h2 id="LeetCode704-二分查找"><a href="#LeetCode704-二分查找" class="headerlink" title="LeetCode704 二分查找"></a>LeetCode704 二分查找</h2><p>我们先来一道最为基础的二分查找题目，理解一下二分查找。<br>本题为LeetCode704 二分查找，属于二分查找中最为基础的练习。二分查找，顾名思义，就是将数组一分为二，在左右两边查找，确定元素区间之后再次一分为二，直至确定元素。</p>
<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target  ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。</p>
<p>示例 1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">输入: nums = [-1,0,3,5,9,12], target = 9</div><div class="line">输出: 4</div><div class="line">解释: 9 出现在 nums 中并且下标为 4</div></pre></td></tr></table></figure>
<p>示例 2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">输入: nums = [-1,0,3,5,9,12], target = 2</div><div class="line">输出: -1</div><div class="line">解释: 2 不存在 nums 中因此返回 -1</div></pre></td></tr></table></figure>
<p>提示：</p>
<p>你可以假设 <code>nums</code> 中的所有元素是不重复的。<br><code>n</code> 将在 <code>[1, 10000]</code>之间。<br><code>nums</code> 的每个元素都将在 <code>[-9999, 9999]</code>之间。</p>
<h3 id="C-代码"><a href="#C-代码" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = nums.size()<span class="number">-1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;=right)&#123;</div><div class="line">            <span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;  <span class="comment">//计算计算中间值</span></div><div class="line">            <span class="keyword">if</span>(nums[mid]==target) <span class="keyword">return</span> mid; <span class="comment">//如果找到了target，返回当前的索引</span></div><div class="line">            <span class="keyword">if</span>(nums[mid]&lt;target) left = mid+<span class="number">1</span>; <span class="comment">//如果nums[mid]&lt;target，证明正确的值在当前位置的右边</span></div><div class="line">            <span class="keyword">if</span>(nums[mid]&gt;target) right = mid<span class="number">-1</span>; <span class="comment">//如果nums[mid]&gt;target，证明正确的值在当前位置的左边</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会"><a href="#体会" class="headerlink" title="体会"></a>体会</h3><p>本题是二分查找最为基础的题目，对于理解二分查找非常重要。</p>
<h2 id="二分查找-模版-1"><a href="#二分查找-模版-1" class="headerlink" title="二分查找 模版#1"></a>二分查找 模版#1</h2><p>模板 #1 是二分查找的最基础和最基本的形式。这是一个标准的二分查找模板，是非常基础简单的二分查找。模板 #1 用于查找可以通过访问数组中的单个索引来确定的元素或条件。模版#1 不需要后处理，因为每一步中，你都在检查是否找到了元素。如果到达末尾，则知道未找到该元素。</p>
<p>模版#1 对应的例题为：<br>LeetCode69 x 的平方根<br>LeetCode374 猜数字大小<br>LeetCode33 搜索旋转排序数组</p>
<h3 id="模版-1-C-代码"><a href="#模版-1-C-代码" class="headerlink" title="模版#1 C++代码"></a>模版#1 C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">( <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; nums, <span class="keyword">int</span> target )</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> ( nums.size() == <span class="number">0</span> )</div><div class="line">		<span class="keyword">return</span>(<span class="number">-1</span>);</div><div class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = nums.size() - <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> ( left &lt;= right )</div><div class="line">	&#123;</div><div class="line">		<span class="comment">/* Prevent (left + right) overflow */</span></div><div class="line">		<span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> ( nums[mid] &lt; target ) left = mid + <span class="number">1</span>;</div><div class="line">		<span class="keyword">else</span> right = mid - <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">/* End Condition: left &gt; right */</span></div><div class="line">	<span class="keyword">return</span>(<span class="number">-1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="语法关键"><a href="#语法关键" class="headerlink" title="语法关键"></a>语法关键</h3><p>初始条件：<code>left = 0, right = length-1</code><br>终止：<code>left &gt; right</code><br>向左查找：<code>right = mid-1</code><br>向右查找：<code>left = mid+1</code></p>
<h2 id="LeetCode69-x-的平方根"><a href="#LeetCode69-x-的平方根" class="headerlink" title="LeetCode69 x 的平方根"></a>LeetCode69 x 的平方根</h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><p>实现 int sqrt(int x) 函数。</p>
<p>计算并返回 x 的平方根，其中 x 是非负整数。</p>
<p>由于返回类型是整数，结果只保留整数的部分，小数部分将被舍去。</p>
<p>示例 1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: 4</div><div class="line">输出: 2</div></pre></td></tr></table></figure>
<p>示例 2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">输入: 8</div><div class="line">输出: 2</div><div class="line">说明: 8 的平方根是 2.82842..., </div><div class="line">     由于返回类型是整数，小数部分将被舍去。</div></pre></td></tr></table></figure>
<h3 id="C-代码-1"><a href="#C-代码-1" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = x;</div><div class="line">        <span class="keyword">if</span> (x &lt;= <span class="number">1</span>) <span class="keyword">return</span> x;</div><div class="line">        <span class="keyword">int</span> ans= <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;=right)&#123;</div><div class="line">            <span class="keyword">int</span> mid = (right+left) /<span class="number">2</span>; <span class="comment">//计算中间值</span></div><div class="line">            <span class="keyword">if</span>(x/mid &gt;= mid ) &#123;</div><div class="line">                left = mid+<span class="number">1</span>; <span class="comment">//如果mid*mid&lt;=x 证明mid小了 left = mid+1</span></div><div class="line">                ans = mid; <span class="comment">//当前的mid作为ans</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> right = mid<span class="number">-1</span>; <span class="comment">//否则right = mid-1</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-1"><a href="#体会-1" class="headerlink" title="体会"></a>体会</h3><p>上述代码采用二分查找的思路，与模版完全一致，注意每次计算的过程中要将mid存储在ans中，因为我们无法通过mid*mid==x去判断mid是否是正确值，所以我们将mid存储在ans中，最后返回。</p>
<p>该题还可以使用牛顿迭代法的思路进行求解。<br>附代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">double</span> res = <span class="number">1</span>, pre = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (<span class="built_in">abs</span>(res - pre) &gt; <span class="number">1e-6</span>) &#123;</div><div class="line">            pre = res;</div><div class="line">            res = (res + x / res) / <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">int</span>(res);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="LeetCode374-猜数字大小"><a href="#LeetCode374-猜数字大小" class="headerlink" title="LeetCode374 猜数字大小"></a>LeetCode374 猜数字大小</h2><h3 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h3><p>我们正在玩一个猜数字游戏。 游戏规则如下：<br>我从 1 到 n 选择一个数字。 你需要猜我选择了哪个数字。<br>每次你猜错了，我会告诉你这个数字是大了还是小了。<br>你调用一个预先定义好的接口 <code>guess(int num)</code>，它会返回 3 个可能的结果（<code>-1</code>，<code>1</code> 或 <code>0</code>）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">-1 : 我的数字比较小</div><div class="line"> 1 : 我的数字比较大</div><div class="line"> 0 : 恭喜！你猜对了！</div></pre></td></tr></table></figure>
<p>示例 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: n = 10, pick = 6</div><div class="line">输出: 6</div></pre></td></tr></table></figure>
<h3 id="C-代码-2"><a href="#C-代码-2" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">guess</span><span class="params">(<span class="keyword">int</span> num)</span></span>;</div><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">guessNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">long</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> right = n;</div><div class="line">        <span class="keyword">while</span>(left&lt;=right)&#123;</div><div class="line">            <span class="keyword">long</span> mid = (left+right)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(guess(mid)==<span class="number">0</span>) <span class="keyword">return</span> mid;</div><div class="line">            <span class="keyword">if</span>(guess(mid)==<span class="number">1</span>) left = mid+<span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span>(guess(mid)==<span class="number">-1</span>) right = mid<span class="number">-1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> left;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-2"><a href="#体会-2" class="headerlink" title="体会"></a>体会</h3><p>这个题完全就是大一的课后题，基础二分查找问题，与模版#1思路完全一致，比较大小的部分已经在guess中封装了，注意判断好guess最后的返回值。</p>
<h2 id="LeetCode33-搜索旋转排序数组"><a href="#LeetCode33-搜索旋转排序数组" class="headerlink" title="LeetCode33 搜索旋转排序数组"></a>LeetCode33 搜索旋转排序数组</h2><h3 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h3><p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。<br>( 例如，数组 <code>[0,1,2,4,5,6,7]</code> 可能变为 <code>[4,5,6,7,0,1,2]</code> )。<br>搜索一个给定的目标值，如果数组中存在这个目标值，则返回它的索引，否则返回 <code>-1</code>。<br>你可以假设数组中不存在重复的元素。<br>你的算法时间复杂度必须是 O(log n) 级别。</p>
<p>示例 1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: nums = [4,5,6,7,0,1,2], target = 0</div><div class="line">输出: 4</div></pre></td></tr></table></figure>
<p>示例 2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: nums = [4,5,6,7,0,1,2], target = 3</div><div class="line">输出: -1</div></pre></td></tr></table></figure>
<h3 id="C-代码-3"><a href="#C-代码-3" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">		<span class="comment">//对于特殊情况的判断</span></div><div class="line">		<span class="keyword">if</span>(nums.size()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">		<span class="keyword">if</span>(nums.size()==<span class="number">1</span> &amp;&amp; nums[<span class="number">0</span>]==target) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		<span class="keyword">if</span>(nums.size()==<span class="number">1</span> &amp;&amp; nums[<span class="number">0</span>]!=target) <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line"></div><div class="line">		<span class="keyword">int</span> index= <span class="number">0</span> ; <span class="comment">//记录轴点</span></div><div class="line">		<span class="keyword">int</span> size = nums.size();<span class="comment">//记录下初始数组的长度</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i++)&#123;</div><div class="line">			<span class="keyword">if</span>(nums[i]&lt;nums[i<span class="number">-1</span>])&#123;</div><div class="line">				index = i; <span class="comment">//找到轴点后结束循环</span></div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			nums.push_back(nums[i]); <span class="comment">//在找到轴点之前，将轴点前数字依次放在数组尾部</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">int</span> left = index; <span class="comment">//left = 轴点</span></div><div class="line">		<span class="keyword">int</span> right = nums.size()<span class="number">-1</span>; <span class="comment">//right = 数组当前长度-1 </span></div><div class="line">		<span class="keyword">int</span> ans = <span class="number">-1</span>;<span class="comment">//ans表示最终的位置</span></div><div class="line">		<span class="keyword">while</span>(left&lt;=right)&#123;</div><div class="line">			<span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>; <span class="comment">//计算中点</span></div><div class="line">			<span class="keyword">if</span>(nums[mid]==target)&#123;</div><div class="line">				ans = mid; <span class="comment">//如果nums[mid] == target </span></div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span>(nums[mid]&lt;target) left = mid+<span class="number">1</span>; <span class="comment">//如果nums[mid]&lt;target 修改left</span></div><div class="line">			<span class="keyword">if</span>(nums[mid]&gt;target) right = mid<span class="number">-1</span>; <span class="comment">//如果 nums[mid]&gt;target 修改 right</span></div><div class="line">			<span class="keyword">if</span>(nums[right] == target ) ans = right; <span class="comment">//如果 nums[right] == target 将 ans修改为right 否则ans为-1</span></div><div class="line">			<span class="keyword">else</span> ans = <span class="number">-1</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> ans % size;</div><div class="line">	&#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-3"><a href="#体会-3" class="headerlink" title="体会"></a>体会</h3><p>依旧是一个模版题，难度较低。我们之前说过，二分查找的三个步骤，第一步是预处理 即如果集合未排序，则进行排序。这个题将数组对某一轴点进行了旋转，需要进行预处理。我们寻找到轴点，将数组修改为升序后，预处理完成，后续进行二分即可。该题最后的处理有些类似模板2。</p>
<h2 id="二分查找-模版-2"><a href="#二分查找-模版-2" class="headerlink" title="二分查找 模版#2"></a>二分查找 模版#2</h2><p>模板 #2 是二分查找的高级模板。它用于查找需要访问数组中当前索引及其直接右邻居索引的元素或条件。<br>查找条件需要访问元素的直接右邻居。<br>使用元素的右邻居来确定是否满足条件，并决定是向左还是向右。<br>保证查找空间在每一步中至少有 2 个元素。<br>需要进行后处理。 当你剩下 1 个元素时，循环 / 递归结束。 需要评估剩余元素是否符合条件。</p>
<p>模版#2 对应的例题为：<br>LeetCode278 第一个错误的版本<br>LeetCode75 寻找峰值<br>LeetCode159 寻找旋转排序数组中的最小值</p>
<h3 id="模版-2-C-代码"><a href="#模版-2-C-代码" class="headerlink" title="模版#2 C++代码"></a>模版#2 C++代码</h3> <figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span>(nums.size() == <span class="number">0</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = nums.size();</div><div class="line">	<span class="keyword">while</span>(left &lt; right)&#123;</div><div class="line">		<span class="comment">// Prevent (left + right) overflow</span></div><div class="line">		<span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span>(nums[mid] == target)&#123; <span class="keyword">return</span> mid; &#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; target) &#123; left = mid + <span class="number">1</span>; &#125;</div><div class="line">		<span class="keyword">else</span> &#123; right = mid; &#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// Post-processing:</span></div><div class="line">	<span class="comment">// End Condition: left == right</span></div><div class="line">	<span class="keyword">if</span>(left != nums.size() &amp;&amp; nums[left] == target) <span class="keyword">return</span> left;</div><div class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="语法关键-1"><a href="#语法关键-1" class="headerlink" title="语法关键"></a>语法关键</h3><p>初始条件：<code>left = 0, right = length</code><br>终止：<code>left == right</code><br>向左查找：<code>right = mid</code><br>向右查找：<code>left = mid+1</code></p>
<h2 id="LeetCode278-第一个错误的版本"><a href="#LeetCode278-第一个错误的版本" class="headerlink" title="LeetCode278 第一个错误的版本"></a>LeetCode278 第一个错误的版本</h2><h3 id="题目-4"><a href="#题目-4" class="headerlink" title="题目"></a>题目</h3><p>你是产品经理，目前正在带领一个团队开发新的产品。不幸的是，你的产品的最新版本没有通过质量检测。由于每个版本都是基于之前的版本开发的，所以错误的版本之后的所有版本都是错的。</p>
<p>假设你有 <code>n</code> 个版本 <code>[1, 2, ..., n]</code>，你想找出导致之后所有版本出错的第一个错误的版本。</p>
<p>你可以通过调用 <code>bool isBadVersion(version)</code> 接口来判断版本号 <code>version</code> 是否在单元测试中出错。实现一个函数来查找第一个错误的版本。你应该尽量减少对调用 API 的次数。</p>
<p>示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">给定 n = 5，并且 version = 4 是第一个错误的版本。</div><div class="line"></div><div class="line">调用 isBadVersion(3) -&gt; false</div><div class="line">调用 isBadVersion(5) -&gt; true</div><div class="line">调用 isBadVersion(4) -&gt; true</div><div class="line"></div><div class="line">所以，4 是第一个错误的版本。</div></pre></td></tr></table></figure>
<h3 id="C-代码-4"><a href="#C-代码-4" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">firstBadVersion</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">long</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> right = n;</div><div class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</div><div class="line">            <span class="keyword">long</span> mid = (left+right)/<span class="number">2</span>; <span class="comment">//计算中点</span></div><div class="line">            <span class="keyword">if</span>(isBadVersion(mid)==<span class="literal">false</span>) left = mid+<span class="number">1</span>; <span class="comment">//如果mid是正常产品，证明第一个错误产品在右侧</span></div><div class="line">            <span class="keyword">if</span>(isBadVersion(mid)==<span class="literal">true</span>) right = mid; <span class="comment">//如果mid是错误产品，证明第一个错误产品在是自己或者在左侧</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> left;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-4"><a href="#体会-4" class="headerlink" title="体会"></a>体会</h3><p>题目非常简单，直接套用模板#2即可。此题与模板#1的最大区别就在于，right不能修改为mid-1，而必须修改为mid。因为当如果mid是错误产品，无法判断第一个错误版本在mid之前，还是就是当前mid。这是模板#2与模板#1的最大不同。</p>
<h2 id="LeetCode75-寻找峰值"><a href="#LeetCode75-寻找峰值" class="headerlink" title="LeetCode75 寻找峰值"></a>LeetCode75 寻找峰值</h2><h3 id="题目-5"><a href="#题目-5" class="headerlink" title="题目"></a>题目</h3><p>峰值元素是指其值大于左右相邻值的元素。<br>给定一个输入数组 <code>nums</code>，其中 <code>nums[i] ≠ nums[i+1]</code>，找到峰值元素并返回其索引。<br>数组可能包含多个峰值，在这种情况下，返回任何一个峰值所在位置即可。<br>你可以假设 <code>nums[-1] = nums[n] = -∞</code>。</p>
<p>示例 1:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">输入: nums = [1,2,3,1]</div><div class="line">输出: 2</div><div class="line">解释: 3 是峰值元素，你的函数应该返回其索引 2。</div></pre></td></tr></table></figure></p>
<p>示例 2:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">输入: nums = [1,2,1,3,5,6,4]</div><div class="line">输出: 1 或 5 </div><div class="line">解释: 你的函数可以返回索引 1，其峰值元素为 2；</div><div class="line">     或者返回索引 5， 其峰值元素为 6。</div></pre></td></tr></table></figure></p>
<p>说明:<br>你的解法应该是 O(logN) 时间复杂度的。</p>
<h3 id="C-代码-5"><a href="#C-代码-5" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(nums.size()==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">long</span> right = nums.size()<span class="number">-1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</div><div class="line">            <span class="keyword">long</span> mid = (left+right)/<span class="number">2</span>; <span class="comment">//计算中间值</span></div><div class="line">            <span class="keyword">if</span>(nums[mid]&gt;nums[mid+<span class="number">1</span>]) right = mid; <span class="comment">//如果当前值大于后一个值 证明当前点可能是峰值点</span></div><div class="line">            <span class="keyword">if</span>(nums[mid]&lt;nums[mid+<span class="number">1</span>]) left = mid+<span class="number">1</span>; <span class="comment">//如果当前值小于后一个值 证明在这之后没有峰值点</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> left;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-5"><a href="#体会-5" class="headerlink" title="体会"></a>体会</h3><p>直接套用模板2，此题与上一道题非常类似，如果当前值大于后一个值 证明当前点可能是峰值点 right修改为mid，如果当前值小于后一个值 证明在这之后没有峰值点left修改为mid+1，最后返回left。<br>PS：如果此题要求求解最值，则需要使用三分法。</p>
<h2 id="LeetCode159-寻找旋转排序数组中的最小值"><a href="#LeetCode159-寻找旋转排序数组中的最小值" class="headerlink" title="LeetCode159 寻找旋转排序数组中的最小值"></a>LeetCode159 寻找旋转排序数组中的最小值</h2><h3 id="题目-6"><a href="#题目-6" class="headerlink" title="题目"></a>题目</h3><p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。<br>( 例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] )。<br>请找出其中最小的元素。<br>你可以假设数组中不存在重复元素。<br>示例 1:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: [3,4,5,1,2]</div><div class="line">输出: 1</div></pre></td></tr></table></figure></p>
<p>示例 2:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: [4,5,6,7,0,1,2]</div><div class="line">输出: 0</div></pre></td></tr></table></figure></p>
<h3 id="C-代码-6"><a href="#C-代码-6" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(nums.size()==<span class="number">1</span>) <span class="keyword">return</span> nums[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = nums.size()<span class="number">-1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;right &amp;&amp; nums[left]&gt;nums[right] )&#123;</div><div class="line">            <span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(nums[left]&lt;=nums[mid]) left = mid+<span class="number">1</span>; <span class="comment">//如果nums[left]&lt;=nums[mid]，即mid前的序列是递增的，则轴值一定不在mid之前，修改left=mid+1</span></div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[left]&gt;nums[mid]) right = mid;<span class="comment">//如果nums[left]&gt;nums[mid]，mid前的序列不是递增的，则可能存在轴值，切mid有可能是轴值，修改right=mid。</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> nums[left];</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-6"><a href="#体会-6" class="headerlink" title="体会"></a>体会</h3><p>依旧是一道模版题。在确定mid之后，需要比对left与mid之间的关系，如果nums[left]&lt;=nums[mid]，即mid前的序列是递增的，则轴值一定不在mid之前，修改left=mid+1；如果nums[left]&gt;nums[mid]，mid前的序列不是递增的，则可能存在轴值，切mid有可能是轴值，修改right=mid。注意确定好边界即可。</p>
<h2 id="二分查找-模版-3"><a href="#二分查找-模版-3" class="headerlink" title="二分查找 模版#3"></a>二分查找 模版#3</h2><p>模板 #3 是二分查找的另一种独特形式。它用于搜索需要访问当前索引及其在数组中的直接左右邻居索引的元素或条件。<br>搜索条件需要访问元素的直接左右邻居。<br>使用元素的邻居来确定它是向右还是向左。<br>保证查找空间在每个步骤中至少有 3 个元素。<br>需要进行后处理。 当剩下 2 个元素时，循环 / 递归结束。 需要评估其余元素是否符合条件。</p>
<p>模版#3 对应的例题为：<br>LeetCode34 在排序数组中查找元素的第一个和最后一个位置<br>LeetCode658 找到 K 个最接近的元素</p>
<h3 id="模版-3-C-代码"><a href="#模版-3-C-代码" class="headerlink" title="模版#3 C++代码"></a>模版#3 C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums.size() == <span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.size() - <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (left + <span class="number">1</span> &lt; right)&#123;</div><div class="line">        <span class="comment">// Prevent (left + right) overflow</span></div><div class="line">        <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">            <span class="keyword">return</span> mid;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</div><div class="line">            left = mid;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            right = mid;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// Post-processing:</span></div><div class="line">    <span class="comment">// End Condition: left + 1 == right</span></div><div class="line">    <span class="keyword">if</span>(nums[left] == target) <span class="keyword">return</span> left;</div><div class="line">    <span class="keyword">if</span>(nums[right] == target) <span class="keyword">return</span> right;</div><div class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="语法关键-2"><a href="#语法关键-2" class="headerlink" title="语法关键"></a>语法关键</h3><p>初始条件：<code>left = 0, right = length-1</code><br>终止：<code>left + 1 == right</code><br>向左查找：<code>right = mid</code><br>向右查找：<code>left = mid</code></p>
<h2 id="LeetCode34-在排序数组中查找元素的第一个和最后一个位置"><a href="#LeetCode34-在排序数组中查找元素的第一个和最后一个位置" class="headerlink" title="LeetCode34 在排序数组中查找元素的第一个和最后一个位置"></a>LeetCode34 在排序数组中查找元素的第一个和最后一个位置</h2><p>###题目<br>给定一个按照升序排列的整数数组 <code>nums</code>，和一个目标值 <code>target</code>。找出给定目标值在数组中的开始位置和结束位置。</p>
<p>你的算法时间复杂度必须是 O(log n) 级别。</p>
<p>如果数组中不存在目标值，返回 <code>[-1, -1]</code>。</p>
<p>示例 1:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: nums = [5,7,7,8,8,10], target = 8</div><div class="line">输出: [3,4]</div></pre></td></tr></table></figure></p>
<p>示例 2:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: nums = [5,7,7,8,8,10], target = 6</div><div class="line">输出: [-1,-1]</div></pre></td></tr></table></figure></p>
<h3 id="C-代码-7"><a href="#C-代码-7" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; searchRange(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="keyword">if</span>(nums.size()==<span class="number">0</span>) <span class="keyword">return</span> &#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;;</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = nums.size()<span class="number">-1</span>;</div><div class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</div><div class="line">            <span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(nums[mid]==target) &#123; <span class="comment">//如果找到target 只需要向前向后搜索这个序列 找到起点和终点即可</span></div><div class="line">                <span class="keyword">int</span> i=mid;</div><div class="line">                <span class="keyword">int</span> j=mid;</div><div class="line">                <span class="keyword">while</span>(nums[i+<span class="number">1</span>]==target &amp;&amp; i&lt;nums.size()<span class="number">-1</span>) i=i+<span class="number">1</span>; </div><div class="line">                <span class="keyword">while</span>(nums[j<span class="number">-1</span>]==target &amp;&amp; j&gt;<span class="number">0</span>) j = j<span class="number">-1</span>;</div><div class="line">                <span class="keyword">return</span>&#123;j,i&#125;;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(nums[mid]&lt;target) left = mid+<span class="number">1</span>; <span class="comment">//如果nums[mid]&lt;target 说明target在mid的右侧</span></div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target) right = mid<span class="number">-1</span>; <span class="comment">//如果nums[mid]&gt;target 说明target在mid的左侧</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span>&#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-7"><a href="#体会-7" class="headerlink" title="体会"></a>体会</h3><p>做这个题的时候很想将模版#3套用进去，但是没有成功。这个题使用的是比较经典的二分思路。本次需要寻找对应序列的起点与终点，所以当我们找到一个target的值时，要向前向后进行搜索确定序列的起点终点。</p>
<h2 id="LeetCode658-找到-K-个最接近的元素"><a href="#LeetCode658-找到-K-个最接近的元素" class="headerlink" title="LeetCode658 找到 K 个最接近的元素"></a>LeetCode658 找到 K 个最接近的元素</h2><h3 id="题目-7"><a href="#题目-7" class="headerlink" title="题目"></a>题目</h3><p>给定一个排序好的数组，两个整数 k 和 x，从数组中找到最靠近 x（两数之差最小）的 k 个数。返回的结果必须要是按升序排好的。如果有两个数与 x 的差值一样，优先选择数值较小的那个数。<br>示例 1:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: [1,2,3,4,5], k=4, x=3</div><div class="line">输出: [1,2,3,4]</div></pre></td></tr></table></figure></p>
<p>示例 2:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">输入: [1,2,3,4,5], k=4, x=-1</div><div class="line">输出: [1,2,3,4]</div></pre></td></tr></table></figure></p>
<p>说明:<br>k 的值为正数，且总是小于给定排序数组的长度。<br>数组不为空，且长度不超过 104<br>数组里的每个元素与 x 的绝对值不超过 104</p>
<h3 id="C-代码-8"><a href="#C-代码-8" class="headerlink" title="C++代码"></a>C++代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findClosestElements(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr, <span class="keyword">int</span> k, <span class="keyword">int</span> x) &#123;</div><div class="line">        <span class="keyword">int</span> left =<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> right = arr.size()-k; <span class="comment">//为了防止越界，将right定为arr.size()-k，做预处理。</span></div><div class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</div><div class="line">            <span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(arr[mid]-x)&lt;=<span class="built_in">abs</span>(arr[mid+k]-x))&#123; <span class="comment">//比较arr[mid]与x的差值 与 arr[mid+k]与x的差值，如果abs(arr[mid]-x)&lt;=abs(arr[mid+k]-x)，证明左侧离x更接近，否则右侧与x更接近。</span></div><div class="line">                right = mid;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> left = mid+<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(arr.begin()+left, arr.begin() + left+k); <span class="comment">//返回结果的时候同样要做处理。</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="体会-8"><a href="#体会-8" class="headerlink" title="体会"></a>体会</h3><p>本题依旧没有用到模版#3（尴尬！），采用类似模版#2的思路，但本题的特殊之处在于预处理和后处理。预处理为了防止越界，将将right定为arr.size()-k，返回结果时返回的事[left,left+k]这一段序列。<br>本题使用二分的思路，我们要找与x最接近的k个数，每次计算出mid后，比较arr[mid]与x的差值 与 arr[mid+k]与x的差值，如果abs(arr[mid]-x)&lt;=abs(arr[mid+k]-x)，证明左侧离x更接近，更新right；否则右侧与x更接近，更新left。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="https://blog-1253353217.cos.ap-chengdu.myqcloud.com/blog16%20leetcode2divide/Leetcode2divide.png" alt="模型对比">（图片源自LeetCode）<br>三个模版的主要差异在于左、中、右索引的分配，循环或递归终止条件，后处理。<br>二分查找是非常常用的算法，真实应用中，我们并不需要死记硬背这三个模版，更重要的是通过这三个模版理解二分搜索，在实际应用中，仔细确定查找边界、递归范围，一般便可以解决问题。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/OJ/" rel="tag"># OJ</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/24/LeetCodeReview6/" rel="next" title="LeetCode算法练习——动态规划 DP">
                <i class="fa fa-chevron-left"></i> LeetCode算法练习——动态规划 DP
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Black'Blog</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/ZxcXenon" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/55a1bc4688c6" target="_blank" title="简书">
                      
                        <i class="fa fa-fw fa-adjust"></i>简书</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#二分查找基础知识"><span class="nav-number">1.</span> <span class="nav-text">二分查找基础知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二分查找原理"><span class="nav-number">2.</span> <span class="nav-text">二分查找原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode704-二分查找"><span class="nav-number">3.</span> <span class="nav-text">LeetCode704 二分查找</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目"><span class="nav-number">3.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码"><span class="nav-number">3.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会"><span class="nav-number">3.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二分查找-模版-1"><span class="nav-number">4.</span> <span class="nav-text">二分查找 模版#1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#模版-1-C-代码"><span class="nav-number">4.1.</span> <span class="nav-text">模版#1 C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语法关键"><span class="nav-number">4.2.</span> <span class="nav-text">语法关键</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode69-x-的平方根"><span class="nav-number">5.</span> <span class="nav-text">LeetCode69 x 的平方根</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-1"><span class="nav-number">5.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-1"><span class="nav-number">5.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-1"><span class="nav-number">5.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode374-猜数字大小"><span class="nav-number">6.</span> <span class="nav-text">LeetCode374 猜数字大小</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-2"><span class="nav-number">6.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-2"><span class="nav-number">6.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-2"><span class="nav-number">6.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode33-搜索旋转排序数组"><span class="nav-number">7.</span> <span class="nav-text">LeetCode33 搜索旋转排序数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-3"><span class="nav-number">7.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-3"><span class="nav-number">7.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-3"><span class="nav-number">7.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二分查找-模版-2"><span class="nav-number">8.</span> <span class="nav-text">二分查找 模版#2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#模版-2-C-代码"><span class="nav-number">8.1.</span> <span class="nav-text">模版#2 C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语法关键-1"><span class="nav-number">8.2.</span> <span class="nav-text">语法关键</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode278-第一个错误的版本"><span class="nav-number">9.</span> <span class="nav-text">LeetCode278 第一个错误的版本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-4"><span class="nav-number">9.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-4"><span class="nav-number">9.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-4"><span class="nav-number">9.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode75-寻找峰值"><span class="nav-number">10.</span> <span class="nav-text">LeetCode75 寻找峰值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-5"><span class="nav-number">10.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-5"><span class="nav-number">10.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-5"><span class="nav-number">10.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode159-寻找旋转排序数组中的最小值"><span class="nav-number">11.</span> <span class="nav-text">LeetCode159 寻找旋转排序数组中的最小值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-6"><span class="nav-number">11.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-6"><span class="nav-number">11.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-6"><span class="nav-number">11.3.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二分查找-模版-3"><span class="nav-number">12.</span> <span class="nav-text">二分查找 模版#3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#模版-3-C-代码"><span class="nav-number">12.1.</span> <span class="nav-text">模版#3 C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语法关键-2"><span class="nav-number">12.2.</span> <span class="nav-text">语法关键</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode34-在排序数组中查找元素的第一个和最后一个位置"><span class="nav-number">13.</span> <span class="nav-text">LeetCode34 在排序数组中查找元素的第一个和最后一个位置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-7"><span class="nav-number">13.1.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-7"><span class="nav-number">13.2.</span> <span class="nav-text">体会</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode658-找到-K-个最接近的元素"><span class="nav-number">14.</span> <span class="nav-text">LeetCode658 找到 K 个最接近的元素</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-7"><span class="nav-number">14.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-代码-8"><span class="nav-number">14.2.</span> <span class="nav-text">C++代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#体会-8"><span class="nav-number">14.3.</span> <span class="nav-text">体会</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-number">14.4.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Black'Blog</span>

  
</div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共87.9k字 |</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4
| <span>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></span>
</div>





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: false,
        appId: 'IWsmYIsP7eKH7JUiJa3GCocc-gzGzoHsz',
        appKey: 'q4Y9saqMlAIFYHVDXQQRa5sI',
        placeholder: '小哥，不说两句？',
        avatar:'wavatar',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("IWsmYIsP7eKH7JUiJa3GCocc-gzGzoHsz", "q4Y9saqMlAIFYHVDXQQRa5sI");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
